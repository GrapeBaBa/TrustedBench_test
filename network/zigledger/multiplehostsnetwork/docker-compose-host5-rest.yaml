version: '3.1'

services:
  mysql:
    hostname: zigerface-mysql
    container_name: mysql
    image: zhigui/zigerface-mysql:x86_64-0.1.0
    environment:
      - MYSQL_ROOT_PASSWORD=zhigui
    ports:
      - 3306:3306
    volumes:
      - /tmp/data/mysql/:/var/lib/mysql
      - ./explore.sql:/usr/local/work/explore.sql
      - ./init_peer.sql:/usr/local/work/init_peer.sql

  zigerface:
      container_name: zigerface
      hostname: zigerface-fullserver.org1
      image: zhigui/zigerface-fullserver:x86_64-0.1.10
      ports:
        - 8081:8081
      volumes:
        - ./:/work/config/artifacts
        - ./network-config.json:/work/config/network-config.json
        - ./zigledger-client-kvs_peerOrg1:/tmp/zigledger-client-kvs_peerOrg1
        - ./config.json:/work/config/config.json